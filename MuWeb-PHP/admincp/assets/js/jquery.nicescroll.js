(function(g){var K=!1,h=!1,n=5000,o=2000,x=0,p=function(){var v=document.getElementsByTagName("script"),v=v[v.length-1].src.split("?")[0];return 0<v.split("/").length?v.split("/").slice(0,-1).join("/")+"/":""}(),k=["ms","moz","webkit","o"],t=window.requestAnimationFrame||!1,u=window.cancelAnimationFrame||!1;if(!t){for(var q in k){var i=k[q];t||(t=window[i+"RequestAnimationFrame"]);u||(u=window[i+"CancelAnimationFrame"]||window[i+"CancelRequestAnimationFrame"])}}var b=window.MutationObserver||window.WebKitMutationObserver||!1,l={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:0.3,rtlmode:!1,cursordragontouch:!1,oneaxismousemode:"auto"},j=!1,r=function(){if(j){return j}var w=document.createElement("DIV"),v={haspointerlock:"pointerLockElement" in document||"mozPointerLockElement" in document||"webkitPointerLockElement" in document};v.isopera="opera" in window;v.isopera12=v.isopera&&"getUserMedia" in navigator;v.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini);v.isie="all" in document&&"attachEvent" in w&&!v.isopera;v.isieold=v.isie&&!("msInterpolationMode" in w.style);v.isie7=v.isie&&!v.isieold&&(!("documentMode" in document)||7==document.documentMode);v.isie8=v.isie&&"documentMode" in document&&8==document.documentMode;v.isie9=v.isie&&"performance" in window&&9<=document.documentMode;v.isie10=v.isie&&"performance" in window&&10<=document.documentMode;v.isie9mobile=/iemobile.9/i.test(navigator.userAgent);v.isie9mobile&&(v.isie9=!1);v.isie7mobile=!v.isie9mobile&&v.isie7&&/iemobile/i.test(navigator.userAgent);v.ismozilla="MozAppearance" in w.style;v.iswebkit="WebkitAppearance" in w.style;v.ischrome="chrome" in window;v.ischrome22=v.ischrome&&v.haspointerlock;v.ischrome26=v.ischrome&&"transition" in w.style;v.cantouch="ontouchstart" in document.documentElement||"ontouchstart" in window;v.hasmstouch=window.navigator.msPointerEnabled||!1;v.ismac=/^mac$/i.test(navigator.platform);v.isios=v.cantouch&&/iphone|ipad|ipod/i.test(navigator.platform);v.isios4=v.isios&&!("seal" in Object);v.isandroid=/android/i.test(navigator.userAgent);v.trstyle=!1;v.hastransform=!1;v.hastranslate3d=!1;v.transitionstyle=!1;v.hastransition=!1;v.transitionend=!1;for(var y=["transform","msTransform","webkitTransform","MozTransform","OTransform"],z=0;z<y.length;z++){if("undefined"!=typeof w.style[y[z]]){v.trstyle=y[z];break}}v.hastransform=!1!=v.trstyle;v.hastransform&&(w.style[v.trstyle]="translate3d(1px,2px,3px)",v.hastranslate3d=/translate3d/.test(w.style[v.trstyle]));v.transitionstyle=!1;v.prefixstyle="";v.transitionend=!1;for(var y="transition webkitTransition MozTransition OTransition OTransition msTransition KhtmlTransition".split(" "),A=" -webkit- -moz- -o- -o -ms- -khtml-".split(" "),B="transitionend webkitTransitionEnd transitionend otransitionend oTransitionEnd msTransitionEnd KhtmlTransitionEnd".split(" "),z=0;z<y.length;z++){if(y[z] in w.style){v.transitionstyle=y[z];v.prefixstyle=A[z];v.transitionend=B[z];break}}v.ischrome26&&(v.prefixstyle=A[1]);v.hastransition=v.transitionstyle;a:{y=["-moz-grab","-webkit-grab","grab"];if(v.ischrome&&!v.ischrome22||v.isie){y=[]}for(z=0;z<y.length;z++){if(A=y[z],w.style.cursor=A,w.style.cursor==A){y=A;break a}}y="url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize"}v.cursorgrabvalue=y;v.hasmousecapture="setCapture" in w;v.hasMutationObserver=!1!==b;return j=v},s=function(y,v){function z(){var H=e.win;if("zIndex" in H){return H.zIndex()}for(;0<H.length&&9!=H[0].nodeType;){var G=H.css("zIndex");if(!isNaN(G)&&0!=G){return parseInt(G)}H=H.parent()}return !1}function A(H,G,I){G=H.css(G);H=parseFloat(G);return isNaN(H)?(H=F[G]||0,I=3==H?I?e.win.outerHeight()-e.win.innerHeight():e.win.outerWidth()-e.win.innerWidth():1,e.isie8&&H&&(H+=1),I?H:0):H}function C(H,G,I,J){e._bind(H,G,function(L){L=L?L:window.event;var M={original:L,target:L.target||L.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==L.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){L.preventDefault?L.preventDefault():L.returnValue=!1;return !1},stopImmediatePropagation:function(){L.stopImmediatePropagation?L.stopImmediatePropagation():L.cancelBubble=!0}};"mousewheel"==G?(M.deltaY=-0.025*L.wheelDelta,L.wheelDeltaX&&(M.deltaX=-0.025*L.wheelDeltaX)):M.deltaY=L.detail;return I.call(H,M)},J)}function E(H,G,J){var L,I;0==H.deltaMode?(L=-Math.floor(H.deltaX*(e.opt.mousescrollstep/54)),I=-Math.floor(H.deltaY*(e.opt.mousescrollstep/54))):1==H.deltaMode&&(L=-Math.floor(H.deltaX*e.opt.mousescrollstep),I=-Math.floor(H.deltaY*e.opt.mousescrollstep));G&&(e.opt.oneaxismousemode&&0==L&&I)&&(L=I,I=0);L&&(e.scrollmom&&e.scrollmom.stop(),e.lastdeltax+=L,e.debounced("mousewheelx",function(){var M=e.lastdeltax;e.lastdeltax=0;e.rail.drag||e.doScrollLeftBy(M)},120));if(I){if(e.opt.nativeparentscrolling&&J&&!e.ispage&&!e.zoomactive){if(0>I){if(e.getScrollTop()>=e.page.maxh){return !0}}else{if(0>=e.getScrollTop()){return !0}}}e.scrollmom&&e.scrollmom.stop();e.lastdeltay+=I;e.debounced("mousewheely",function(){var M=e.lastdeltay;e.lastdeltay=0;e.rail.drag||e.doScrollBy(M)},120)}H.stopImmediatePropagation();return H.preventDefault()}var e=this;this.version="3.5.0";this.name="nicescroll";this.me=v;this.opt={doc:g("body"),win:!1};g.extend(this.opt,l);this.opt.snapbackspeed=80;if(y){for(var B in e.opt){"undefined"!=typeof y[B]&&(e.opt[B]=y[B])}}this.iddoc=(this.doc=e.opt.doc)&&this.doc[0]?this.doc[0].id||"":"";this.ispage=/BODY|HTML/.test(e.opt.win?e.opt.win[0].nodeName:this.doc[0].nodeName);this.haswrapper=!1!==e.opt.win;this.win=e.opt.win||(this.ispage?g(window):this.doc);this.docscroll=this.ispage&&!this.haswrapper?g(window):this.win;this.body=g("body");this.iframe=this.isfixed=this.viewport=!1;this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName;this.istextarea="TEXTAREA"==this.win[0].nodeName;this.forcescreen=!1;this.canshowonmouseevent="scroll"!=e.opt.autohidemode;this.page=this.view=this.onzoomout=this.onzoomin=this.onscrollcancel=this.onscrollend=this.onscrollstart=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=!1;this.scroll={x:0,y:0};this.scrollratio={x:0,y:0};this.cursorheight=20;this.scrollvaluemax=0;this.observerremover=this.observer=this.scrollmom=this.scrollrunning=this.checkrtlmode=!1;do{this.id="ascrail"+o++}while(document.getElementById(this.id));this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.selectiondrag=this.cursorfreezed=this.cursor=this.rail=!1;this.visibility=!0;this.hidden=this.locked=!1;this.cursoractive=!0;this.overflowx=e.opt.overflowx;this.overflowy=e.opt.overflowy;this.nativescrollingarea=!1;this.checkarea=0;this.events=[];this.saved={};this.delaylist={};this.synclist={};this.lastdeltay=this.lastdeltax=0;this.detected=r();var w=g.extend({},this.detected);this.ishwscroll=(this.canhwscroll=w.hastransform&&e.opt.hwacceleration)&&e.haswrapper;this.istouchcapable=!1;w.cantouch&&(w.ischrome&&!w.isios&&!w.isandroid)&&(this.istouchcapable=!0,w.cantouch=!1);w.cantouch&&(w.ismozilla&&!w.isios&&!w.isandroid)&&(this.istouchcapable=!0,w.cantouch=!1);e.opt.enablemouselockapi||(w.hasmousecapture=!1,w.haspointerlock=!1);this.delayed=function(H,G,J,L){var I=e.delaylist[H],M=(new Date).getTime();if(!L&&I&&I.tt){return !1}I&&I.tt&&clearTimeout(I.tt);if(I&&I.last+J>M&&!I.tt){e.delaylist[H]={last:M+J,tt:setTimeout(function(){e.delaylist[H].tt=0;G.call()},J)}}else{if(!I||!I.tt){e.delaylist[H]={last:M,tt:0},setTimeout(function(){G.call()},0)}}};this.debounced=function(H,G,I){var J=e.delaylist[H];(new Date).getTime();e.delaylist[H]=G;J||setTimeout(function(){var L=e.delaylist[H];e.delaylist[H]=!1;L.call()},I)};this.synched=function(H,G){e.synclist[H]=G;(function(){e.onsync||(t(function(){e.onsync=!1;for(H in e.synclist){var I=e.synclist[H];I&&I.call(e);e.synclist[H]=!1}}),e.onsync=!0)})();return H};this.unsynched=function(G){e.synclist[G]&&(e.synclist[G]=!1)};this.css=function(H,G){for(var I in G){e.saved.css.push([H,I,H.css(I)]),H.css(I,G[I])}};this.scrollTop=function(G){return"undefined"==typeof G?e.getScrollTop():e.setScrollTop(G)};this.scrollLeft=function(G){return"undefined"==typeof G?e.getScrollLeft():e.setScrollLeft(G)};BezierClass=function(G,H,J,L,I,M,N){this.st=G;this.ed=H;this.spd=J;this.p1=L||0;this.p2=I||1;this.p3=M||0;this.p4=N||1;this.ts=(new Date).getTime();this.df=this.ed-this.st};BezierClass.prototype={B2:function(G){return 3*G*G*(1-G)},B3:function(G){return 3*G*(1-G)*(1-G)},B4:function(G){return(1-G)*(1-G)*(1-G)},getNow:function(){var G=1-((new Date).getTime()-this.ts)/this.spd,H=this.B2(G)+this.B3(G)+this.B4(G);return 0>G?this.ed:this.st+Math.round(this.df*H)},update:function(G,H){this.st=this.getNow();this.ed=G;this.spd=H;this.ts=(new Date).getTime();this.df=this.ed-this.st;return this}};if(this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"};w.hastranslate3d&&w.isios&&this.doc.css("-webkit-backface-visibility","hidden");var D=function(){var G=e.doc.css(w.trstyle);return G&&"matrix"==G.substr(0,6)?G.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/):!1};this.getScrollTop=function(G){if(!G){if(G=D()){return 16==G.length?-G[13]:-G[5]}if(e.timerscroll&&e.timerscroll.bz){return e.timerscroll.bz.getNow()}}return e.doc.translate.y};this.getScrollLeft=function(G){if(!G){if(G=D()){return 16==G.length?-G[12]:-G[4]}if(e.timerscroll&&e.timerscroll.bh){return e.timerscroll.bh.getNow()}}return e.doc.translate.x};this.notifyScrollEvent=document.createEvent?function(G){var H=document.createEvent("UIEvents");H.initUIEvent("scroll",!1,!0,window,1);G.dispatchEvent(H)}:document.fireEvent?function(G){var H=document.createEventObject();G.fireEvent("onscroll");H.cancelBubble=!0}:function(G,H){};w.hastranslate3d&&e.opt.enabletranslate3d?(this.setScrollTop=function(H,G){e.doc.translate.y=H;e.doc.translate.ty=-1*H+"px";e.doc.css(w.trstyle,"translate3d("+e.doc.translate.tx+","+e.doc.translate.ty+",0px)");G||e.notifyScrollEvent(e.win[0])},this.setScrollLeft=function(H,G){e.doc.translate.x=H;e.doc.translate.tx=-1*H+"px";e.doc.css(w.trstyle,"translate3d("+e.doc.translate.tx+","+e.doc.translate.ty+",0px)");G||e.notifyScrollEvent(e.win[0])}):(this.setScrollTop=function(H,G){e.doc.translate.y=H;e.doc.translate.ty=-1*H+"px";e.doc.css(w.trstyle,"translate("+e.doc.translate.tx+","+e.doc.translate.ty+")");G||e.notifyScrollEvent(e.win[0])},this.setScrollLeft=function(H,G){e.doc.translate.x=H;e.doc.translate.tx=-1*H+"px";e.doc.css(w.trstyle,"translate("+e.doc.translate.tx+","+e.doc.translate.ty+")");G||e.notifyScrollEvent(e.win[0])})}else{this.getScrollTop=function(){return e.docscroll.scrollTop()},this.setScrollTop=function(G){return e.docscroll.scrollTop(G)},this.getScrollLeft=function(){return e.docscroll.scrollLeft()},this.setScrollLeft=function(G){return e.docscroll.scrollLeft(G)}}this.getTarget=function(G){return !G?!1:G.target?G.target:G.srcElement?G.srcElement:!1};this.hasParent=function(G,H){if(!G){return !1}for(var I=G.target||G.srcElement||G||!1;I&&I.id!=H;){I=I.parentNode||!1}return !1!==I};var F={thin:1,medium:3,thick:5};this.getOffset=function(){if(e.isfixed){return{top:parseFloat(e.win.css("top")),left:parseFloat(e.win.css("left"))}}if(!e.viewport){return e.win.offset()}var H=e.win.offset(),G=e.viewport.offset();return{top:H.top-G.top+e.viewport.scrollTop(),left:H.left-G.left+e.viewport.scrollLeft()}};this.updateScrollBar=function(H){if(e.ishwscroll){e.rail.css({height:e.win.innerHeight()}),e.railh&&e.railh.css({width:e.win.innerWidth()})}else{var G=e.getOffset(),J=G.top,L=G.left,J=J+A(e.win,"border-top-width",!0);e.win.outerWidth();e.win.innerWidth();var L=L+(e.rail.align?e.win.outerWidth()-A(e.win,"border-right-width")-e.rail.width:A(e.win,"border-left-width")),I=e.opt.railoffset;I&&(I.top&&(J+=I.top),e.rail.align&&I.left&&(L+=I.left));e.locked||e.rail.css({top:J,left:L,height:H?H.h:e.win.innerHeight()});e.zoom&&e.zoom.css({top:J+1,left:1==e.rail.align?L-20:L+e.rail.width+4});e.railh&&!e.locked&&(J=G.top,L=G.left,H=e.railh.align?J+A(e.win,"border-top-width",!0)+e.win.innerHeight()-e.railh.height:J+A(e.win,"border-top-width",!0),L+=A(e.win,"border-left-width"),e.railh.css({top:H,left:L,width:e.railh.width}))}};this.doRailClick=function(H,G,I){var J;e.locked||(e.cancelEvent(H),G?(G=I?e.doScrollLeft:e.doScrollTop,J=I?(H.pageX-e.railh.offset().left-e.cursorwidth/2)*e.scrollratio.x:(H.pageY-e.rail.offset().top-e.cursorheight/2)*e.scrollratio.y,G(J)):(G=I?e.doScrollLeftBy:e.doScrollBy,J=I?e.scroll.x:e.scroll.y,H=I?H.pageX-e.railh.offset().left:H.pageY-e.rail.offset().top,I=I?e.view.w:e.view.h,J>=H?G(I):G(-I)))};e.hasanimationframe=t;e.hascancelanimationframe=u;e.hasanimationframe?e.hascancelanimationframe||(u=function(){e.cancelAnimationFrame=!0}):(t=function(G){return setTimeout(G,15-Math.floor(+new Date/1000)%16)},u=clearInterval);this.init=function(){e.saved.css=[];if(w.isie7mobile||w.isoperamini){return !0}w.hasmstouch&&e.css(e.ispage?g("html"):e.win,{"-ms-touch-action":"none"});e.zindex="auto";e.zindex=!e.ispage&&"auto"==e.opt.zindex?z()||"auto":e.opt.zindex;!e.ispage&&"auto"!=e.zindex&&e.zindex>x&&(x=e.zindex);e.isie&&(0==e.zindex&&"auto"==e.opt.zindex)&&(e.zindex="auto");if(!e.ispage||!w.cantouch&&!w.isieold&&!w.isie9mobile){var H=e.docscroll;e.ispage&&(H=e.haswrapper?e.win:e.doc);w.isie9mobile||e.css(H,{"overflow-y":"hidden"});e.ispage&&w.isie7&&("BODY"==e.doc[0].nodeName?e.css(g("html"),{"overflow-y":"hidden"}):"HTML"==e.doc[0].nodeName&&e.css(g("body"),{"overflow-y":"hidden"}));w.isios&&(!e.ispage&&!e.haswrapper)&&e.css(g("body"),{"-webkit-overflow-scrolling":"touch"});var G=g(document.createElement("div"));G.css({position:"relative",top:0,"float":"right",width:e.opt.cursorwidth,height:"0px","background-color":e.opt.cursorcolor,border:e.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":e.opt.cursorborderradius,"-moz-border-radius":e.opt.cursorborderradius,"border-radius":e.opt.cursorborderradius});G.hborder=parseFloat(G.outerHeight()-G.innerHeight());e.cursor=G;var I=g(document.createElement("div"));I.attr("id",e.id);I.addClass("nicescroll-rails");var M,J,S=["left","right"],P;for(P in S){J=S[P],(M=e.opt.railpadding[J])?I.css("padding-"+J,M+"px"):e.opt.railpadding[J]=0}I.append(G);I.width=Math.max(parseFloat(e.opt.cursorwidth),G.outerWidth())+e.opt.railpadding.left+e.opt.railpadding.right;I.css({width:I.width+"px",zIndex:e.zindex,background:e.opt.background,cursor:"default"});I.visibility=!0;I.scrollable=!0;I.align="left"==e.opt.railalign?0:1;e.rail=I;G=e.rail.drag=!1;e.opt.boxzoom&&(!e.ispage&&!w.isieold)&&(G=document.createElement("div"),e.bind(G,"click",e.doZoom),e.zoom=g(G),e.zoom.css({cursor:"pointer","z-index":e.zindex,height:18,width:18,backgroundPosition:"0px 0px"}),e.opt.dblclickzoom&&e.bind(e.win,"dblclick",e.doZoom),w.cantouch&&e.opt.gesturezoom&&(e.ongesturezoom=function(T){1.5<T.scale&&e.doZoomIn(T);0.8>T.scale&&e.doZoomOut(T);return e.cancelEvent(T)},e.bind(e.win,"gestureend",e.ongesturezoom)));e.railh=!1;if(e.opt.horizrailenabled){e.css(H,{"overflow-x":"hidden"});G=g(document.createElement("div"));G.css({position:"relative",top:0,height:e.opt.cursorwidth,width:"0px","background-color":e.opt.cursorcolor,border:e.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":e.opt.cursorborderradius,"-moz-border-radius":e.opt.cursorborderradius,"border-radius":e.opt.cursorborderradius});G.wborder=parseFloat(G.outerWidth()-G.innerWidth());e.cursorh=G;var N=g(document.createElement("div"));N.attr("id",e.id+"-hr");N.addClass("nicescroll-rails");N.height=Math.max(parseFloat(e.opt.cursorwidth),G.outerHeight());N.css({height:N.height+"px",zIndex:e.zindex,background:e.opt.background});N.append(G);N.visibility=!0;N.scrollable=!0;N.align="top"==e.opt.railvalign?0:1;e.railh=N;e.railh.drag=!1}e.ispage?(I.css({position:"fixed",top:"0px",height:"100%"}),I.align?I.css({right:"0px"}):I.css({left:"0px"}),e.body.append(I),e.railh&&(N.css({position:"fixed",left:"0px",width:"100%"}),N.align?N.css({bottom:"0px"}):N.css({top:"0px"}),e.body.append(N))):(e.ishwscroll?("static"==e.win.css("position")&&e.css(e.win,{position:"relative"}),H="HTML"==e.win[0].nodeName?e.body:e.win,e.zoom&&(e.zoom.css({position:"absolute",top:1,right:0,"margin-right":I.width+4}),H.append(e.zoom)),I.css({position:"absolute",top:0}),I.align?I.css({right:0}):I.css({left:0}),H.append(I),N&&(N.css({position:"absolute",left:0,bottom:0}),N.align?N.css({bottom:0}):N.css({top:0}),H.append(N))):(e.isfixed="fixed"==e.win.css("position"),H=e.isfixed?"fixed":"absolute",e.isfixed||(e.viewport=e.getViewport(e.win[0])),e.viewport&&(e.body=e.viewport,!1==/fixed|relative|absolute/.test(e.viewport.css("position"))&&e.css(e.viewport,{position:"relative"})),I.css({position:H}),e.zoom&&e.zoom.css({position:H}),e.updateScrollBar(),e.body.append(I),e.zoom&&e.body.append(e.zoom),e.railh&&(N.css({position:H}),e.body.append(N))),w.isios&&e.css(e.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),w.isie&&e.opt.disableoutline&&e.win.attr("hideFocus","true"),w.iswebkit&&e.opt.disableoutline&&e.win.css({outline:"none"}));!1===e.opt.autohidemode?(e.autohidedom=!1,e.rail.css({opacity:e.opt.cursoropacitymax}),e.railh&&e.railh.css({opacity:e.opt.cursoropacitymax})):!0===e.opt.autohidemode||"leave"===e.opt.autohidemode?(e.autohidedom=g().add(e.rail),w.isie8&&(e.autohidedom=e.autohidedom.add(e.cursor)),e.railh&&(e.autohidedom=e.autohidedom.add(e.railh)),e.railh&&w.isie8&&(e.autohidedom=e.autohidedom.add(e.cursorh))):"scroll"==e.opt.autohidemode?(e.autohidedom=g().add(e.rail),e.railh&&(e.autohidedom=e.autohidedom.add(e.railh))):"cursor"==e.opt.autohidemode?(e.autohidedom=g().add(e.cursor),e.railh&&(e.autohidedom=e.autohidedom.add(e.cursorh))):"hidden"==e.opt.autohidemode&&(e.autohidedom=!1,e.hide(),e.locked=!1);if(w.isie9mobile){e.scrollmom=new m(e),e.onmangotouch=function(U){U=e.getScrollTop();var T=e.getScrollLeft();if(U==e.scrollmom.lastscrolly&&T==e.scrollmom.lastscrollx){return !0}var W=U-e.mangotouch.sy,X=T-e.mangotouch.sx;if(0!=Math.round(Math.sqrt(Math.pow(X,2)+Math.pow(W,2)))){var Z=0>W?-1:1,V=0>X?-1:1,Y=+new Date;e.mangotouch.lazy&&clearTimeout(e.mangotouch.lazy);80<Y-e.mangotouch.tm||e.mangotouch.dry!=Z||e.mangotouch.drx!=V?(e.scrollmom.stop(),e.scrollmom.reset(T,U),e.mangotouch.sy=U,e.mangotouch.ly=U,e.mangotouch.sx=T,e.mangotouch.lx=T,e.mangotouch.dry=Z,e.mangotouch.drx=V,e.mangotouch.tm=Y):(e.scrollmom.stop(),e.scrollmom.update(e.mangotouch.sx-X,e.mangotouch.sy-W),e.mangotouch.tm=Y,W=Math.max(Math.abs(e.mangotouch.ly-U),Math.abs(e.mangotouch.lx-T)),e.mangotouch.ly=U,e.mangotouch.lx=T,2<W&&(e.mangotouch.lazy=setTimeout(function(){e.mangotouch.lazy=!1;e.mangotouch.dry=0;e.mangotouch.drx=0;e.mangotouch.tm=0;e.scrollmom.doMomentum(30)},100)))}},I=e.getScrollTop(),N=e.getScrollLeft(),e.mangotouch={sy:I,ly:I,dry:0,sx:N,lx:N,drx:0,lazy:!1,tm:0},e.bind(e.docscroll,"scroll",e.onmangotouch)}else{if(w.cantouch||e.istouchcapable||e.opt.touchbehavior||w.hasmstouch){e.scrollmom=new m(e);e.ontouchstart=function(U){if(U.pointerType&&2!=U.pointerType){return !1}if(!e.locked){if(w.hasmstouch){for(var T=U.target?U.target:!1;T;){var V=g(T).getNiceScroll();if(0<V.length&&V[0].me==e.me){break}if(0<V.length){return !1}if("DIV"==T.nodeName&&T.id==e.id){break}T=T.parentNode?T.parentNode:!1}}e.cancelScroll();if((T=e.getTarget(U))&&/INPUT/i.test(T.nodeName)&&/range/i.test(T.type)){return e.stopPropagation(U)}!("clientX" in U)&&"changedTouches" in U&&(U.clientX=U.changedTouches[0].clientX,U.clientY=U.changedTouches[0].clientY);e.forcescreen&&(V=U,U={original:U.original?U.original:U},U.clientX=V.screenX,U.clientY=V.screenY);e.rail.drag={x:U.clientX,y:U.clientY,sx:e.scroll.x,sy:e.scroll.y,st:e.getScrollTop(),sl:e.getScrollLeft(),pt:2,dl:!1};if(e.ispage||!e.opt.directionlockdeadzone){e.rail.drag.dl="f"}else{var V=g(window).width(),Y=g(window).height(),W=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),X=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),Y=Math.max(0,X-Y),V=Math.max(0,W-V);e.rail.drag.ck=!e.rail.scrollable&&e.railh.scrollable?0<Y?"v":!1:e.rail.scrollable&&!e.railh.scrollable?0<V?"h":!1:!1;e.rail.drag.ck||(e.rail.drag.dl="f")}e.opt.touchbehavior&&(e.isiframe&&w.isie)&&(V=e.win.position(),e.rail.drag.x+=V.left,e.rail.drag.y+=V.top);e.hasmoving=!1;e.lastmouseup=!1;e.scrollmom.reset(U.clientX,U.clientY);if(!w.cantouch&&!this.istouchcapable&&!w.hasmstouch){if(!T||!/INPUT|SELECT|TEXTAREA/i.test(T.nodeName)){return !e.ispage&&w.hasmousecapture&&T.setCapture(),e.opt.touchbehavior?e.cancelEvent(U):e.stopPropagation(U)}/SUBMIT|CANCEL|BUTTON/i.test(g(T).attr("type"))&&(pc={tg:T,click:!1},e.preventclick=pc)}}};e.ontouchend=function(T){if(T.pointerType&&2!=T.pointerType){return !1}if(e.rail.drag&&2==e.rail.drag.pt&&(e.scrollmom.doMomentum(),e.rail.drag=!1,e.hasmoving&&(e.hasmoving=!1,e.lastmouseup=!0,e.hideCursor(),w.hasmousecapture&&document.releaseCapture(),!w.cantouch))){return e.cancelEvent(T)}};var R=e.opt.touchbehavior&&e.isiframe&&!w.hasmousecapture;e.ontouchmove=function(U,T){if(U.pointerType&&2!=U.pointerType){return !1}if(e.rail.drag&&2==e.rail.drag.pt){if(w.cantouch&&"undefined"==typeof U.original){return !0}e.hasmoving=!0;e.preventclick&&!e.preventclick.click&&(e.preventclick.click=e.preventclick.tg.onclick||!1,e.preventclick.tg.onclick=e.onpreventclick);U=g.extend({original:U},U);"changedTouches" in U&&(U.clientX=U.changedTouches[0].clientX,U.clientY=U.changedTouches[0].clientY);if(e.forcescreen){var V=U;U={original:U.original?U.original:U};U.clientX=V.screenX;U.clientY=V.screenY}V=ofy=0;if(R&&!T){var aa=e.win.position(),V=-aa.left;ofy=-aa.top}var X=U.clientY+ofy,aa=X-e.rail.drag.y,Y=U.clientX+V,W=Y-e.rail.drag.x,ab=e.rail.drag.st-aa;e.ishwscroll&&e.opt.bouncescroll?0>ab?ab=Math.round(ab/2):ab>e.page.maxh&&(ab=e.page.maxh+Math.round((ab-e.page.maxh)/2)):(0>ab&&(X=ab=0),ab>e.page.maxh&&(ab=e.page.maxh,X=0));if(e.railh&&e.railh.scrollable){var Z=e.rail.drag.sl-W;e.ishwscroll&&e.opt.bouncescroll?0>Z?Z=Math.round(Z/2):Z>e.page.maxw&&(Z=e.page.maxw+Math.round((Z-e.page.maxw)/2)):(0>Z&&(Y=Z=0),Z>e.page.maxw&&(Z=e.page.maxw,Y=0))}V=!1;if(e.rail.drag.dl){V=!0,"v"==e.rail.drag.dl?Z=e.rail.drag.sl:"h"==e.rail.drag.dl&&(ab=e.rail.drag.st)}else{var aa=Math.abs(aa),W=Math.abs(W),ac=e.opt.directionlockdeadzone;if("v"==e.rail.drag.ck){if(aa>ac&&W<=0.3*aa){return e.rail.drag=!1,!0}W>ac&&(e.rail.drag.dl="f",g("body").scrollTop(g("body").scrollTop()))}else{if("h"==e.rail.drag.ck){if(W>ac&&aa<=0.3*W){return e.rail.drag=!1,!0}aa>ac&&(e.rail.drag.dl="f",g("body").scrollLeft(g("body").scrollLeft()))}}}e.synched("touchmove",function(){e.rail.drag&&2==e.rail.drag.pt&&(e.prepareTransition&&e.prepareTransition(0),e.rail.scrollable&&e.setScrollTop(ab),e.scrollmom.update(Y,X),e.railh&&e.railh.scrollable?(e.setScrollLeft(Z),e.showCursor(ab,Z)):e.showCursor(ab),w.isie10&&document.selection.clear())});w.ischrome&&e.istouchcapable&&(V=!1);if(V){return e.cancelEvent(U)}}}}e.onmousedown=function(U,T){if(!(e.rail.drag&&1!=e.rail.drag.pt)){if(e.locked){return e.cancelEvent(U)}e.cancelScroll();e.rail.drag={x:U.clientX,y:U.clientY,sx:e.scroll.x,sy:e.scroll.y,pt:1,hr:!!T};var V=e.getTarget(U);!e.ispage&&w.hasmousecapture&&V.setCapture();e.isiframe&&!w.hasmousecapture&&(e.saved.csspointerevents=e.doc.css("pointer-events"),e.css(e.doc,{"pointer-events":"none"}));return e.cancelEvent(U)}};e.onmouseup=function(T){if(e.rail.drag&&(w.hasmousecapture&&document.releaseCapture(),e.isiframe&&!w.hasmousecapture&&e.doc.css("pointer-events",e.saved.csspointerevents),1==e.rail.drag.pt)){return e.rail.drag=!1,e.cancelEvent(T)}};e.onmousemove=function(U){if(e.rail.drag&&1==e.rail.drag.pt){if(w.ischrome&&0==U.which){return e.onmouseup(U)}e.cursorfreezed=!0;if(e.rail.drag.hr){e.scroll.x=e.rail.drag.sx+(U.clientX-e.rail.drag.x);0>e.scroll.x&&(e.scroll.x=0);var T=e.scrollvaluemaxw;e.scroll.x>T&&(e.scroll.x=T)}else{e.scroll.y=e.rail.drag.sy+(U.clientY-e.rail.drag.y),0>e.scroll.y&&(e.scroll.y=0),T=e.scrollvaluemax,e.scroll.y>T&&(e.scroll.y=T)}e.synched("mousemove",function(){e.rail.drag&&1==e.rail.drag.pt&&(e.showCursor(),e.rail.drag.hr?e.doScrollLeft(Math.round(e.scroll.x*e.scrollratio.x),e.opt.cursordragspeed):e.doScrollTop(Math.round(e.scroll.y*e.scrollratio.y),e.opt.cursordragspeed))});return e.cancelEvent(U)}};if(w.cantouch||e.opt.touchbehavior){e.onpreventclick=function(T){if(e.preventclick){return e.preventclick.tg.onclick=e.preventclick.click,e.preventclick=!1,e.cancelEvent(T)}},e.bind(e.win,"mousedown",e.ontouchstart),e.onclick=w.isios?!1:function(T){return e.lastmouseup?(e.lastmouseup=!1,e.cancelEvent(T)):!0},e.opt.grabcursorenabled&&w.cursorgrabvalue&&(e.css(e.ispage?e.doc:e.win,{cursor:w.cursorgrabvalue}),e.css(e.rail,{cursor:w.cursorgrabvalue}))}else{var O=function(U){if(e.selectiondrag){if(U){var T=e.win.outerHeight();U=U.pageY-e.selectiondrag.top;0<U&&U<T&&(U=0);U>=T&&(U-=T);e.selectiondrag.df=U}0!=e.selectiondrag.df&&(e.doScrollBy(2*-Math.floor(e.selectiondrag.df/6)),e.debounced("doselectionscroll",function(){O()},50))}};e.hasTextSelected="getSelection" in document?function(){return 0<document.getSelection().rangeCount}:"selection" in document?function(){return"None"!=document.selection.type}:function(){return !1};e.onselectionstart=function(T){e.ispage||(e.selectiondrag=e.win.offset())};e.onselectionend=function(T){e.selectiondrag=!1};e.onselectiondrag=function(T){e.selectiondrag&&e.hasTextSelected()&&e.debounced("selectionscroll",function(){O(T)},250)}}w.hasmstouch&&(e.css(e.rail,{"-ms-touch-action":"none"}),e.css(e.cursor,{"-ms-touch-action":"none"}),e.bind(e.win,"MSPointerDown",e.ontouchstart),e.bind(document,"MSPointerUp",e.ontouchend),e.bind(document,"MSPointerMove",e.ontouchmove),e.bind(e.cursor,"MSGestureHold",function(T){T.preventDefault()}),e.bind(e.cursor,"contextmenu",function(T){T.preventDefault()}));this.istouchcapable&&(e.bind(e.win,"touchstart",e.ontouchstart),e.bind(document,"touchend",e.ontouchend),e.bind(document,"touchcancel",e.ontouchend),e.bind(document,"touchmove",e.ontouchmove));e.bind(e.cursor,"mousedown",e.onmousedown);e.bind(e.cursor,"mouseup",e.onmouseup);e.railh&&(e.bind(e.cursorh,"mousedown",function(T){e.onmousedown(T,!0)}),e.bind(e.cursorh,"mouseup",function(T){if(!(e.rail.drag&&2==e.rail.drag.pt)){return e.rail.drag=!1,e.hasmoving=!1,e.hideCursor(),w.hasmousecapture&&document.releaseCapture(),e.cancelEvent(T)}}));if(e.opt.cursordragontouch||!w.cantouch&&!e.opt.touchbehavior){e.rail.css({cursor:"default"}),e.railh&&e.railh.css({cursor:"default"}),e.jqbind(e.rail,"mouseenter",function(){e.canshowonmouseevent&&e.showCursor();e.rail.active=!0}),e.jqbind(e.rail,"mouseleave",function(){e.rail.active=!1;e.rail.drag||e.hideCursor()}),e.opt.sensitiverail&&(e.bind(e.rail,"click",function(T){e.doRailClick(T,!1,!1)}),e.bind(e.rail,"dblclick",function(T){e.doRailClick(T,!0,!1)}),e.bind(e.cursor,"click",function(T){e.cancelEvent(T)}),e.bind(e.cursor,"dblclick",function(T){e.cancelEvent(T)})),e.railh&&(e.jqbind(e.railh,"mouseenter",function(){e.canshowonmouseevent&&e.showCursor();e.rail.active=!0}),e.jqbind(e.railh,"mouseleave",function(){e.rail.active=!1;e.rail.drag||e.hideCursor()}),e.opt.sensitiverail&&(e.bind(e.railh,"click",function(T){e.doRailClick(T,!1,!0)}),e.bind(e.railh,"dblclick",function(T){e.doRailClick(T,!0,!0)}),e.bind(e.cursorh,"click",function(T){e.cancelEvent(T)}),e.bind(e.cursorh,"dblclick",function(T){e.cancelEvent(T)})))}!w.cantouch&&!e.opt.touchbehavior?(e.bind(w.hasmousecapture?e.win:document,"mouseup",e.onmouseup),e.bind(document,"mousemove",e.onmousemove),e.onclick&&e.bind(document,"click",e.onclick),!e.ispage&&e.opt.enablescrollonselection&&(e.bind(e.win[0],"mousedown",e.onselectionstart),e.bind(document,"mouseup",e.onselectionend),e.bind(e.cursor,"mouseup",e.onselectionend),e.cursorh&&e.bind(e.cursorh,"mouseup",e.onselectionend),e.bind(document,"mousemove",e.onselectiondrag)),e.zoom&&(e.jqbind(e.zoom,"mouseenter",function(){e.canshowonmouseevent&&e.showCursor();e.rail.active=!0}),e.jqbind(e.zoom,"mouseleave",function(){e.rail.active=!1;e.rail.drag||e.hideCursor()}))):(e.bind(w.hasmousecapture?e.win:document,"mouseup",e.ontouchend),e.bind(document,"mousemove",e.ontouchmove),e.onclick&&e.bind(document,"click",e.onclick),e.opt.cursordragontouch&&(e.bind(e.cursor,"mousedown",e.onmousedown),e.bind(e.cursor,"mousemove",e.onmousemove),e.cursorh&&e.bind(e.cursorh,"mousedown",function(T){e.onmousedown(T,!0)}),e.cursorh&&e.bind(e.cursorh,"mousemove",e.onmousemove)));e.opt.enablemousewheel&&(e.isiframe||e.bind(w.isie&&e.ispage?document:e.win,"mousewheel",e.onmousewheel),e.bind(e.rail,"mousewheel",e.onmousewheel),e.railh&&e.bind(e.railh,"mousewheel",e.onmousewheelhr));!e.ispage&&(!w.cantouch&&!/HTML|BODY/.test(e.win[0].nodeName))&&(e.win.attr("tabindex")||e.win.attr({tabindex:n++}),e.jqbind(e.win,"focus",function(T){K=e.getTarget(T).id||!0;e.hasfocus=!0;e.canshowonmouseevent&&e.noticeCursor()}),e.jqbind(e.win,"blur",function(T){K=!1;e.hasfocus=!1}),e.jqbind(e.win,"mouseenter",function(T){h=e.getTarget(T).id||!0;e.hasmousefocus=!0;e.canshowonmouseevent&&e.noticeCursor()}),e.jqbind(e.win,"mouseleave",function(){h=!1;e.hasmousefocus=!1;e.rail.drag||e.hideCursor()}))}e.onkeypress=function(U){if(e.locked&&0==e.page.maxh){return !0}U=U?U:window.e;var T=e.getTarget(U);if(T&&/INPUT|TEXTAREA|SELECT|OPTION/.test(T.nodeName)&&(!T.getAttribute("type")&&!T.type||!/submit|button|cancel/i.tp)){return !0}if(e.hasfocus||e.hasmousefocus&&!K||e.ispage&&!K&&!h){T=U.keyCode;if(e.locked&&27!=T){return e.cancelEvent(U)}var V=U.ctrlKey||!1,X=U.shiftKey||!1,W=!1;switch(T){case 38:case 63233:e.doScrollBy(72);W=!0;break;case 40:case 63235:e.doScrollBy(-72);W=!0;break;case 37:case 63232:e.railh&&(V?e.doScrollLeft(0):e.doScrollLeftBy(72),W=!0);break;case 39:case 63234:e.railh&&(V?e.doScrollLeft(e.page.maxw):e.doScrollLeftBy(-72),W=!0);break;case 33:case 63276:e.doScrollBy(e.view.h);W=!0;break;case 34:case 63277:e.doScrollBy(-e.view.h);W=!0;break;case 36:case 63273:e.railh&&V?e.doScrollPos(0,0):e.doScrollTo(0);W=!0;break;case 35:case 63275:e.railh&&V?e.doScrollPos(e.page.maxw,e.page.maxh):e.doScrollTo(e.page.maxh);W=!0;break;case 32:e.opt.spacebarenabled&&(X?e.doScrollBy(e.view.h):e.doScrollBy(-e.view.h),W=!0);break;case 27:e.zoomactive&&(e.doZoom(),W=!0)}if(W){return e.cancelEvent(U)}}};e.opt.enablekeyboard&&e.bind(document,w.isopera&&!w.isopera12?"keypress":"keydown",e.onkeypress);e.bind(window,"resize",e.lazyResize);e.bind(window,"orientationchange",e.lazyResize);e.bind(window,"load",e.lazyResize);if(w.ischrome&&!e.ispage&&!e.haswrapper){var Q=e.win.attr("style"),I=parseFloat(e.win.css("width"))+1;e.win.css("width",I);e.synched("chromefix",function(){e.win.attr("style",Q)})}e.onAttributeChange=function(T){e.lazyResize(250)};!e.ispage&&!e.haswrapper&&(!1!==b?(e.observer=new b(function(T){T.forEach(e.onAttributeChange)}),e.observer.observe(e.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),e.observerremover=new b(function(T){T.forEach(function(V){if(0<V.removedNodes.length){for(var U in V.removedNodes){if(V.removedNodes[U]==e.win[0]){return e.remove()}}}})}),e.observerremover.observe(e.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(e.bind(e.win,w.isie&&!w.isie9?"propertychange":"DOMAttrModified",e.onAttributeChange),w.isie9&&e.win[0].attachEvent("onpropertychange",e.onAttributeChange),e.bind(e.win,"DOMNodeRemoved",function(T){T.target==e.win[0]&&e.remove()})));!e.ispage&&e.opt.boxzoom&&e.bind(window,"resize",e.resizeZoom);e.istextarea&&e.bind(e.win,"mouseup",e.lazyResize);e.checkrtlmode=!0;e.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var L=function(U){e.iframexd=!1;try{var T="contentDocument" in this?this.contentDocument:this.contentWindow.document}catch(V){e.iframexd=!0,T=!1}if(e.iframexd){return"console" in window&&console.log("NiceScroll error: policy restriced iframe"),!0}e.forcescreen=!0;e.isiframe&&(e.iframe={doc:g(T),html:e.doc.contents().find("html")[0],body:e.doc.contents().find("body")[0]},e.getContentSize=function(){return{w:Math.max(e.iframe.html.scrollWidth,e.iframe.body.scrollWidth),h:Math.max(e.iframe.html.scrollHeight,e.iframe.body.scrollHeight)}},e.docscroll=g(e.iframe.body));!w.isios&&(e.opt.iframeautoresize&&!e.isiframe)&&(e.win.scrollTop(0),e.doc.height(""),U=Math.max(T.getElementsByTagName("html")[0].scrollHeight,T.body.scrollHeight),e.doc.height(U));e.lazyResize(30);w.isie7&&e.css(g(e.iframe.html),{"overflow-y":"hidden"});e.css(g(e.iframe.body),{"overflow-y":"hidden"});w.isios&&e.haswrapper&&e.css(g(T.body),{"-webkit-transform":"translate3d(0,0,0)"});"contentWindow" in this?e.bind(this.contentWindow,"scroll",e.onscroll):e.bind(T,"scroll",e.onscroll);e.opt.enablemousewheel&&e.bind(T,"mousewheel",e.onmousewheel);e.opt.enablekeyboard&&e.bind(T,w.isopera?"keypress":"keydown",e.onkeypress);if(w.cantouch||e.opt.touchbehavior){e.bind(T,"mousedown",e.ontouchstart),e.bind(T,"mousemove",function(W){e.ontouchmove(W,!0)}),e.opt.grabcursorenabled&&w.cursorgrabvalue&&e.css(g(T.body),{cursor:w.cursorgrabvalue})}e.bind(T,"mouseup",e.ontouchend);e.zoom&&(e.opt.dblclickzoom&&e.bind(T,"dblclick",e.doZoom),e.ongesturezoom&&e.bind(T,"gestureend",e.ongesturezoom))};this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){L.call(e.doc[0],!1)},500);e.bind(this.doc,"load",L)}};this.showCursor=function(H,G){e.cursortimeout&&(clearTimeout(e.cursortimeout),e.cursortimeout=0);if(e.rail){e.autohidedom&&(e.autohidedom.stop().css({opacity:e.opt.cursoropacitymax}),e.cursoractive=!0);if(!e.rail.drag||1!=e.rail.drag.pt){"undefined"!=typeof H&&!1!==H&&(e.scroll.y=Math.round(1*H/e.scrollratio.y)),"undefined"!=typeof G&&(e.scroll.x=Math.round(1*G/e.scrollratio.x))}e.cursor.css({height:e.cursorheight,top:e.scroll.y});e.cursorh&&(!e.rail.align&&e.rail.visibility?e.cursorh.css({width:e.cursorwidth,left:e.scroll.x+e.rail.width}):e.cursorh.css({width:e.cursorwidth,left:e.scroll.x}),e.cursoractive=!0);e.zoom&&e.zoom.stop().css({opacity:e.opt.cursoropacitymax})}};this.hideCursor=function(G){!e.cursortimeout&&(e.rail&&e.autohidedom&&!(e.hasmousefocus&&"leave"==e.opt.autohidemode))&&(e.cursortimeout=setTimeout(function(){if(!e.rail.active||!e.showonmouseevent){e.autohidedom.stop().animate({opacity:e.opt.cursoropacitymin}),e.zoom&&e.zoom.stop().animate({opacity:e.opt.cursoropacitymin}),e.cursoractive=!1}e.cursortimeout=0},G||e.opt.hidecursordelay))};this.noticeCursor=function(H,G,I){e.showCursor(G,I);e.rail.active||e.hideCursor(H)};this.getContentSize=e.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:e.haswrapper?function(){return{w:e.doc.outerWidth()+parseInt(e.win.css("paddingLeft"))+parseInt(e.win.css("paddingRight")),h:e.doc.outerHeight()+parseInt(e.win.css("paddingTop"))+parseInt(e.win.css("paddingBottom"))}}:function(){return{w:e.docscroll[0].scrollWidth,h:e.docscroll[0].scrollHeight}};this.onResize=function(H,G){if(!e.win){return !1}if(!e.haswrapper&&!e.ispage){if("none"==e.win.css("display")){return e.visibility&&e.hideRail().hideRailHr(),!1}!e.hidden&&!e.visibility&&e.showRail().showRailHr()}var J=e.page.maxh,L=e.page.maxw,I=e.view.w;e.view={w:e.ispage?e.win.width():parseInt(e.win[0].clientWidth),h:e.ispage?e.win.height():parseInt(e.win[0].clientHeight)};e.page=G?G:e.getContentSize();e.page.maxh=Math.max(0,e.page.h-e.view.h);e.page.maxw=Math.max(0,e.page.w-e.view.w);if(e.page.maxh==J&&e.page.maxw==L&&e.view.w==I){if(e.ispage){return e}J=e.win.offset();if(e.lastposition&&(L=e.lastposition,L.top==J.top&&L.left==J.left)){return e}e.lastposition=J}0==e.page.maxh?(e.hideRail(),e.scrollvaluemax=0,e.scroll.y=0,e.scrollratio.y=0,e.cursorheight=0,e.setScrollTop(0),e.rail.scrollable=!1):e.rail.scrollable=!0;0==e.page.maxw?(e.hideRailHr(),e.scrollvaluemaxw=0,e.scroll.x=0,e.scrollratio.x=0,e.cursorwidth=0,e.setScrollLeft(0),e.railh.scrollable=!1):e.railh.scrollable=!0;e.locked=0==e.page.maxh&&0==e.page.maxw;if(e.locked){return e.ispage||e.updateScrollBar(e.view),!1}!e.hidden&&!e.visibility?e.showRail().showRailHr():!e.hidden&&!e.railh.visibility&&e.showRailHr();e.istextarea&&(e.win.css("resize")&&"none"!=e.win.css("resize"))&&(e.view.h-=20);e.cursorheight=Math.min(e.view.h,Math.round(e.view.h*(e.view.h/e.page.h)));e.cursorheight=e.opt.cursorfixedheight?e.opt.cursorfixedheight:Math.max(e.opt.cursorminheight,e.cursorheight);e.cursorwidth=Math.min(e.view.w,Math.round(e.view.w*(e.view.w/e.page.w)));e.cursorwidth=e.opt.cursorfixedheight?e.opt.cursorfixedheight:Math.max(e.opt.cursorminheight,e.cursorwidth);e.scrollvaluemax=e.view.h-e.cursorheight-e.cursor.hborder;e.railh&&(e.railh.width=0<e.page.maxh?e.view.w-e.rail.width:e.view.w,e.scrollvaluemaxw=e.railh.width-e.cursorwidth-e.cursorh.wborder);e.checkrtlmode&&e.railh&&(e.checkrtlmode=!1,e.opt.rtlmode&&0==e.scroll.x&&e.setScrollLeft(e.page.maxw));e.ispage||e.updateScrollBar(e.view);e.scrollratio={x:e.page.maxw/e.scrollvaluemaxw,y:e.page.maxh/e.scrollvaluemax};e.getScrollTop()>e.page.maxh?e.doScrollTop(e.page.maxh):(e.scroll.y=Math.round(e.getScrollTop()*(1/e.scrollratio.y)),e.scroll.x=Math.round(e.getScrollLeft()*(1/e.scrollratio.x)),e.cursoractive&&e.noticeCursor());e.scroll.y&&0==e.getScrollTop()&&e.doScrollTo(Math.floor(e.scroll.y*e.scrollratio.y));return e};this.resize=e.onResize;this.lazyResize=function(G){G=isNaN(G)?30:G;e.delayed("resize",e.resize,G);return e};this._bind=function(H,G,I,J){e.events.push({e:H,n:G,f:I,b:J,q:!1});H.addEventListener?H.addEventListener(G,I,J||!1):H.attachEvent?H.attachEvent("on"+G,I):H["on"+G]=I};this.jqbind=function(H,G,I){e.events.push({e:H,n:G,f:I,q:!0});g(H).bind(G,I)};this.bind=function(H,G,J,I){var L="jquery" in H?H[0]:H;"mousewheel"==G?"onwheel" in e.win?e._bind(L,"wheel",J,I||!1):(H="undefined"!=typeof document.onmousewheel?"mousewheel":"DOMMouseScroll",C(L,H,J,I||!1),"DOMMouseScroll"==H&&C(L,"MozMousePixelScroll",J,I||!1)):L.addEventListener?(w.cantouch&&/mouseup|mousedown|mousemove/.test(G)&&e._bind(L,"mousedown"==G?"touchstart":"mouseup"==G?"touchend":"touchmove",function(M){if(M.touches){if(2>M.touches.length){var N=M.touches.length?M.touches[0]:M;N.original=M;J.call(this,N)}}else{M.changedTouches&&(N=M.changedTouches[0],N.original=M,J.call(this,N))}},I||!1),e._bind(L,G,J,I||!1),w.cantouch&&"mouseup"==G&&e._bind(L,"touchcancel",J,I||!1)):e._bind(L,G,function(M){if((M=M||window.event||!1)&&M.srcElement){M.target=M.srcElement}"pageY" in M||(M.pageX=M.clientX+document.documentElement.scrollLeft,M.pageY=M.clientY+document.documentElement.scrollTop);return !1===J.call(L,M)||!1===I?e.cancelEvent(M):!0})};this._unbind=function(G,H,I,J){G.removeEventListener?G.removeEventListener(H,I,J):G.detachEvent?G.detachEvent("on"+H,I):G["on"+H]=!1};this.unbindAll=function(){for(var H=0;H<e.events.length;H++){var G=e.events[H];G.q?G.e.unbind(G.n,G.f):e._unbind(G.e,G.n,G.f,G.b)}};this.cancelEvent=function(G){G=G.original?G.original:G?G:window.event||!1;if(!G){return !1}G.preventDefault&&G.preventDefault();G.stopPropagation&&G.stopPropagation();G.preventManipulation&&G.preventManipulation();G.cancelBubble=!0;G.cancel=!0;return G.returnValue=!1};this.stopPropagation=function(G){G=G.original?G.original:G?G:window.event||!1;if(!G){return !1}if(G.stopPropagation){return G.stopPropagation()}G.cancelBubble&&(G.cancelBubble=!0);return !1};this.showRail=function(){if(0!=e.page.maxh&&(e.ispage||"none"!=e.win.css("display"))){e.visibility=!0,e.rail.visibility=!0,e.rail.css("display","block")}return e};this.showRailHr=function(){if(!e.railh){return e}if(0!=e.page.maxw&&(e.ispage||"none"!=e.win.css("display"))){e.railh.visibility=!0,e.railh.css("display","block")}return e};this.hideRail=function(){e.visibility=!1;e.rail.visibility=!1;e.rail.css("display","none");return e};this.hideRailHr=function(){if(!e.railh){return e}e.railh.visibility=!1;e.railh.css("display","none");return e};this.show=function(){e.hidden=!1;e.locked=!1;return e.showRail().showRailHr()};this.hide=function(){e.hidden=!0;e.locked=!0;return e.hideRail().hideRailHr()};this.toggle=function(){return e.hidden?e.show():e.hide()};this.remove=function(){e.stop();e.cursortimeout&&clearTimeout(e.cursortimeout);e.doZoomOut();e.unbindAll();w.isie9&&e.win[0].detachEvent("onpropertychange",e.onAttributeChange);!1!==e.observer&&e.observer.disconnect();!1!==e.observerremover&&e.observerremover.disconnect();e.events=null;e.cursor&&e.cursor.remove();e.cursorh&&e.cursorh.remove();e.rail&&e.rail.remove();e.railh&&e.railh.remove();e.zoom&&e.zoom.remove();for(var H=0;H<e.saved.css.length;H++){var G=e.saved.css[H];G[0].css(G[1],"undefined"==typeof G[2]?"":G[2])}e.saved=!1;e.me.data("__nicescroll","");var I=g.nicescroll;I.each(function(M){if(this&&this.id===e.id){delete I[M];for(var L=++M;L<I.length;L++,M++){I[M]=I[L]}I.length--;I.length&&delete I[I.length]}});for(var J in e){e[J]=null,delete e[J]}e=null};this.scrollstart=function(G){this.onscrollstart=G;return e};this.scrollend=function(G){this.onscrollend=G;return e};this.scrollcancel=function(G){this.onscrollcancel=G;return e};this.zoomin=function(G){this.onzoomin=G;return e};this.zoomout=function(G){this.onzoomout=G;return e};this.isScrollable=function(G){G=G.target?G.target:G;if("OPTION"==G.nodeName){return !0}for(;G&&1==G.nodeType&&!/BODY|HTML/.test(G.nodeName);){var H=g(G),H=H.css("overflowY")||H.css("overflowX")||H.css("overflow")||"";if(/scroll|auto/.test(H)){return G.clientHeight!=G.scrollHeight}G=G.parentNode?G.parentNode:!1}return !1};this.getViewport=function(G){for(G=G&&G.parentNode?G.parentNode:!1;G&&1==G.nodeType&&!/BODY|HTML/.test(G.nodeName);){var H=g(G);if(/fixed|absolute/.test(H.css("position"))){return H}var I=H.css("overflowY")||H.css("overflowX")||H.css("overflow")||"";if(/scroll|auto/.test(I)&&G.clientHeight!=G.scrollHeight||0<H.getNiceScroll().length){return H}G=G.parentNode?G.parentNode:!1}return !1};this.onmousewheel=function(H){if(e.locked){return e.debounced("checkunlock",e.resize,250),!0}if(e.rail.drag){return e.cancelEvent(H)}"auto"==e.opt.oneaxismousemode&&0!=H.deltaX&&(e.opt.oneaxismousemode=!1);if(e.opt.oneaxismousemode&&0==H.deltaX&&!e.rail.scrollable){return e.railh&&e.railh.scrollable?e.onmousewheelhr(H):!0}var G=+new Date,I=!1;e.opt.preservenativescrolling&&e.checkarea+600<G&&(e.nativescrollingarea=e.isScrollable(H),I=!0);e.checkarea=G;if(e.nativescrollingarea){return !0}if(H=E(H,!1,I)){e.checkarea=0}return H};this.onmousewheelhr=function(H){if(e.locked||!e.railh.scrollable){return !0}if(e.rail.drag){return e.cancelEvent(H)}var G=+new Date,I=!1;e.opt.preservenativescrolling&&e.checkarea+600<G&&(e.nativescrollingarea=e.isScrollable(H),I=!0);e.checkarea=G;return e.nativescrollingarea?!0:e.locked?e.cancelEvent(H):E(H,!0,I)};this.stop=function(){e.cancelScroll();e.scrollmon&&e.scrollmon.stop();e.cursorfreezed=!1;e.scroll.y=Math.round(e.getScrollTop()*(1/e.scrollratio.y));e.noticeCursor();return e};this.getTransitionSpeed=function(H){var G=Math.round(10*e.opt.scrollspeed);H=Math.min(G,Math.round(H/20*e.opt.scrollspeed));return 20<H?H:0};e.opt.smoothscroll?e.ishwscroll&&w.hastransition&&e.opt.usetransition?(this.prepareTransition=function(H,G){var J=G?20<H?H:0:e.getTransitionSpeed(H),I=J?w.prefixstyle+"transform "+J+"ms ease-out":"";if(!e.lasttransitionstyle||e.lasttransitionstyle!=I){e.lasttransitionstyle=I,e.doc.css(w.transitionstyle,I)}return J},this.doScrollLeft=function(G,I){var H=e.scrollrunning?e.newscrolly:e.getScrollTop();e.doScrollPos(G,H,I)},this.doScrollTop=function(G,I){var H=e.scrollrunning?e.newscrollx:e.getScrollLeft();e.doScrollPos(H,G,I)},this.doScrollPos=function(G,H,I){var J=e.getScrollTop(),L=e.getScrollLeft();(0>(e.newscrolly-J)*(H-J)||0>(e.newscrollx-L)*(G-L))&&e.cancelScroll();!1==e.opt.bouncescroll&&(0>H?H=0:H>e.page.maxh&&(H=e.page.maxh),0>G?G=0:G>e.page.maxw&&(G=e.page.maxw));if(e.scrollrunning&&G==e.newscrollx&&H==e.newscrolly){return !1}e.newscrolly=H;e.newscrollx=G;e.newscrollspeed=I||!1;if(e.timer){return !1}e.timer=setTimeout(function(){var M=e.getScrollTop(),O=e.getScrollLeft(),P,N;P=G-O;N=H-M;P=Math.round(Math.sqrt(Math.pow(P,2)+Math.pow(N,2)));P=e.newscrollspeed&&1<e.newscrollspeed?e.newscrollspeed:e.getTransitionSpeed(P);e.newscrollspeed&&1>=e.newscrollspeed&&(P*=e.newscrollspeed);e.prepareTransition(P,!0);e.timerscroll&&e.timerscroll.tm&&clearInterval(e.timerscroll.tm);0<P&&(!e.scrollrunning&&e.onscrollstart&&e.onscrollstart.call(e,{type:"scrollstart",current:{x:O,y:M},request:{x:G,y:H},end:{x:e.newscrollx,y:e.newscrolly},speed:P}),w.transitionend?e.scrollendtrapped||(e.scrollendtrapped=!0,e.bind(e.doc,w.transitionend,e.onScrollEnd,!1)):(e.scrollendtrapped&&clearTimeout(e.scrollendtrapped),e.scrollendtrapped=setTimeout(e.onScrollEnd,P)),e.timerscroll={bz:new BezierClass(M,e.newscrolly,P,0,0,0.58,1),bh:new BezierClass(O,e.newscrollx,P,0,0,0.58,1)},e.cursorfreezed||(e.timerscroll.tm=setInterval(function(){e.showCursor(e.getScrollTop(),e.getScrollLeft())},60)));e.synched("doScroll-set",function(){e.timer=0;e.scrollendtrapped&&(e.scrollrunning=!0);e.setScrollTop(e.newscrolly);e.setScrollLeft(e.newscrollx);if(!e.scrollendtrapped){e.onScrollEnd()}})},50)},this.cancelScroll=function(){if(!e.scrollendtrapped){return !0}var G=e.getScrollTop(),H=e.getScrollLeft();e.scrollrunning=!1;w.transitionend||clearTimeout(w.transitionend);e.scrollendtrapped=!1;e._unbind(e.doc,w.transitionend,e.onScrollEnd);e.prepareTransition(0);e.setScrollTop(G);e.railh&&e.setScrollLeft(H);e.timerscroll&&e.timerscroll.tm&&clearInterval(e.timerscroll.tm);e.timerscroll=!1;e.cursorfreezed=!1;e.showCursor(G,H);return e},this.onScrollEnd=function(){e.scrollendtrapped&&e._unbind(e.doc,w.transitionend,e.onScrollEnd);e.scrollendtrapped=!1;e.prepareTransition(0);e.timerscroll&&e.timerscroll.tm&&clearInterval(e.timerscroll.tm);e.timerscroll=!1;var G=e.getScrollTop(),H=e.getScrollLeft();e.setScrollTop(G);e.railh&&e.setScrollLeft(H);e.noticeCursor(!1,G,H);e.cursorfreezed=!1;0>G?G=0:G>e.page.maxh&&(G=e.page.maxh);0>H?H=0:H>e.page.maxw&&(H=e.page.maxw);if(G!=e.newscrolly||H!=e.newscrollx){return e.doScrollPos(H,G,e.opt.snapbackspeed)}e.onscrollend&&e.scrollrunning&&e.onscrollend.call(e,{type:"scrollend",current:{x:H,y:G},end:{x:e.newscrollx,y:e.newscrolly}});e.scrollrunning=!1}):(this.doScrollLeft=function(G,I){var H=e.scrollrunning?e.newscrolly:e.getScrollTop();e.doScrollPos(G,H,I)},this.doScrollTop=function(G,I){var H=e.scrollrunning?e.newscrollx:e.getScrollLeft();e.doScrollPos(H,G,I)},this.doScrollPos=function(G,J,I){function H(){if(e.cancelAnimationFrame){return !0}e.scrollrunning=!0;if(P=1-P){return e.timer=t(H)||1}var R=0,S=sy=e.getScrollTop();if(e.dst.ay){var S=e.bzscroll?e.dst.py+e.bzscroll.getNow()*e.dst.ay:e.newscrolly,T=S-sy;if(0>T&&S<e.newscrolly||0<T&&S>e.newscrolly){S=e.newscrolly}e.setScrollTop(S);S==e.newscrolly&&(R=1)}else{R=1}var U=sx=e.getScrollLeft();if(e.dst.ax){U=e.bzscroll?e.dst.px+e.bzscroll.getNow()*e.dst.ax:e.newscrollx;T=U-sx;if(0>T&&U<e.newscrollx||0<T&&U>e.newscrollx){U=e.newscrollx}e.setScrollLeft(U);U==e.newscrollx&&(R+=1)}else{R+=1}2==R?(e.timer=0,e.cursorfreezed=!1,e.bzscroll=!1,e.scrollrunning=!1,0>S?S=0:S>e.page.maxh&&(S=e.page.maxh),0>U?U=0:U>e.page.maxw&&(U=e.page.maxw),U!=e.newscrollx||S!=e.newscrolly?e.doScrollPos(U,S):e.onscrollend&&e.onscrollend.call(e,{type:"scrollend",current:{x:sx,y:sy},end:{x:e.newscrollx,y:e.newscrolly}})):e.timer=t(H)||1}J="undefined"==typeof J||!1===J?e.getScrollTop(!0):J;if(e.timer&&e.newscrolly==J&&e.newscrollx==G){return !0}e.timer&&u(e.timer);e.timer=0;var M=e.getScrollTop(),N=e.getScrollLeft();(0>(e.newscrolly-M)*(J-M)||0>(e.newscrollx-N)*(G-N))&&e.cancelScroll();e.newscrolly=J;e.newscrollx=G;if(!e.bouncescroll||!e.rail.visibility){0>e.newscrolly?e.newscrolly=0:e.newscrolly>e.page.maxh&&(e.newscrolly=e.page.maxh)}if(!e.bouncescroll||!e.railh.visibility){0>e.newscrollx?e.newscrollx=0:e.newscrollx>e.page.maxw&&(e.newscrollx=e.page.maxw)}e.dst={};e.dst.x=G-N;e.dst.y=J-M;e.dst.px=N;e.dst.py=M;var L=Math.round(Math.sqrt(Math.pow(e.dst.x,2)+Math.pow(e.dst.y,2)));e.dst.ax=e.dst.x/L;e.dst.ay=e.dst.y/L;var O=0,Q=L;0==e.dst.x?(O=M,Q=J,e.dst.ay=1,e.dst.py=0):0==e.dst.y&&(O=N,Q=G,e.dst.ax=1,e.dst.px=0);L=e.getTransitionSpeed(L);I&&1>=I&&(L*=I);e.bzscroll=0<L?e.bzscroll?e.bzscroll.update(Q,L):new BezierClass(O,Q,L,0,1,0,1):!1;if(!e.timer){(M==e.page.maxh&&J>=e.page.maxh||N==e.page.maxw&&G>=e.page.maxw)&&e.checkContentSize();var P=1;e.cancelAnimationFrame=!1;e.timer=1;e.onscrollstart&&!e.scrollrunning&&e.onscrollstart.call(e,{type:"scrollstart",current:{x:N,y:M},request:{x:G,y:J},end:{x:e.newscrollx,y:e.newscrolly},speed:L});H();(M==e.page.maxh&&J>=M||N==e.page.maxw&&G>=N)&&e.checkContentSize();e.noticeCursor()}},this.cancelScroll=function(){e.timer&&u(e.timer);e.timer=0;e.bzscroll=!1;e.scrollrunning=!1;return e}):(this.doScrollLeft=function(G,I){var H=e.getScrollTop();e.doScrollPos(G,H,I)},this.doScrollTop=function(G,I){var H=e.getScrollLeft();e.doScrollPos(H,G,I)},this.doScrollPos=function(G,J,I){var H=G>e.page.maxw?e.page.maxw:G;0>H&&(H=0);var L=J>e.page.maxh?e.page.maxh:J;0>L&&(L=0);e.synched("scroll",function(){e.setScrollTop(L);e.setScrollLeft(H)})},this.cancelScroll=function(){});this.doScrollBy=function(G,J){var I=0,I=J?Math.floor((e.scroll.y-G)*e.scrollratio.y):(e.timer?e.newscrolly:e.getScrollTop(!0))-G;if(e.bouncescroll){var H=Math.round(e.view.h/2);I<-H?I=-H:I>e.page.maxh+H&&(I=e.page.maxh+H)}e.cursorfreezed=!1;py=e.getScrollTop(!0);if(0>I&&0>=py){return e.noticeCursor()}if(I>e.page.maxh&&py>=e.page.maxh){return e.checkContentSize(),e.noticeCursor()}e.doScrollTop(I)};this.doScrollLeftBy=function(G,J){var I=0,I=J?Math.floor((e.scroll.x-G)*e.scrollratio.x):(e.timer?e.newscrollx:e.getScrollLeft(!0))-G;if(e.bouncescroll){var H=Math.round(e.view.w/2);I<-H?I=-H:I>e.page.maxw+H&&(I=e.page.maxw+H)}e.cursorfreezed=!1;px=e.getScrollLeft(!0);if(0>I&&0>=px||I>e.page.maxw&&px>=e.page.maxw){return e.noticeCursor()}e.doScrollLeft(I)};this.doScrollTo=function(G,H){H&&Math.round(G*e.scrollratio.y);e.cursorfreezed=!1;e.doScrollTop(G)};this.checkContentSize=function(){var G=e.getContentSize();(G.h!=e.page.h||G.w!=e.page.w)&&e.resize(!1,G)};e.onscroll=function(G){e.rail.drag||e.cursorfreezed||e.synched("scroll",function(){e.scroll.y=Math.round(e.getScrollTop()*(1/e.scrollratio.y));e.railh&&(e.scroll.x=Math.round(e.getScrollLeft()*(1/e.scrollratio.x)));e.noticeCursor()})};e.bind(e.docscroll,"scroll",e.onscroll);this.doZoomIn=function(G){if(!e.zoomactive){e.zoomactive=!0;e.zoomrestore={style:{}};var J="position top left zIndex backgroundColor marginTop marginBottom marginLeft marginRight".split(" "),H=e.win[0].style,L;for(L in J){var I=J[L];e.zoomrestore.style[I]="undefined"!=typeof H[I]?H[I]:""}e.zoomrestore.style.width=e.win.css("width");e.zoomrestore.style.height=e.win.css("height");e.zoomrestore.padding={w:e.win.outerWidth()-e.win.width(),h:e.win.outerHeight()-e.win.height()};w.isios4&&(e.zoomrestore.scrollTop=g(window).scrollTop(),g(window).scrollTop(0));e.win.css({position:w.isios4?"absolute":"fixed",top:0,left:0,"z-index":x+100,margin:"0px"});J=e.win.css("backgroundColor");(""==J||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(J))&&e.win.css("backgroundColor","#fff");e.rail.css({"z-index":x+101});e.zoom.css({"z-index":x+102});e.zoom.css("backgroundPosition","0px -18px");e.resizeZoom();e.onzoomin&&e.onzoomin.call(e);return e.cancelEvent(G)}};this.doZoomOut=function(G){if(e.zoomactive){return e.zoomactive=!1,e.win.css("margin",""),e.win.css(e.zoomrestore.style),w.isios4&&g(window).scrollTop(e.zoomrestore.scrollTop),e.rail.css({"z-index":e.zindex}),e.zoom.css({"z-index":e.zindex}),e.zoomrestore=!1,e.zoom.css("backgroundPosition","0px 0px"),e.onResize(),e.onzoomout&&e.onzoomout.call(e),e.cancelEvent(G)}};this.doZoom=function(G){return e.zoomactive?e.doZoomOut(G):e.doZoomIn(G)};this.resizeZoom=function(){if(e.zoomactive){var G=e.getScrollTop();e.win.css({width:g(window).width()-e.zoomrestore.padding.w+"px",height:g(window).height()-e.zoomrestore.padding.h+"px"});e.onResize();e.setScrollTop(Math.min(e.page.maxh,G))}};this.init();g.nicescroll.push(this)},m=function(w){var v=this;this.nc=w;this.steptime=this.lasttime=this.speedy=this.speedx=this.lasty=this.lastx=0;this.snapy=this.snapx=!1;this.demuly=this.demulx=0;this.lastscrolly=this.lastscrollx=-1;this.timer=this.chky=this.chkx=0;this.time=function(){return +new Date};this.reset=function(y,A){v.stop();var z=v.time();v.steptime=0;v.lasttime=z;v.speedx=0;v.speedy=0;v.lastx=y;v.lasty=A;v.lastscrollx=-1;v.lastscrolly=-1};this.update=function(z,B){var A=v.time();v.steptime=A-v.lasttime;v.lasttime=A;var A=B-v.lasty,D=z-v.lastx,y=v.nc.getScrollTop(),C=v.nc.getScrollLeft(),y=y+A,C=C+D;v.snapx=0>C||C>v.nc.page.maxw;v.snapy=0>y||y>v.nc.page.maxh;v.speedx=D;v.speedy=A;v.lastx=z;v.lasty=B};this.stop=function(){v.nc.unsynched("domomentum2d");v.timer&&clearTimeout(v.timer);v.timer=0;v.lastscrollx=-1;v.lastscrolly=-1};this.doSnapy=function(y,A){var z=!1;0>A?(A=0,z=!0):A>v.nc.page.maxh&&(A=v.nc.page.maxh,z=!0);0>y?(y=0,z=!0):y>v.nc.page.maxw&&(y=v.nc.page.maxw,z=!0);z&&v.nc.doScrollPos(y,A,v.nc.opt.snapbackspeed)};this.doMomentum=function(A){var D=v.time(),C=A?D+A:v.lasttime;A=v.nc.getScrollLeft();var G=v.nc.getScrollTop(),y=v.nc.page.maxh,E=v.nc.page.maxw;v.speedx=0<E?Math.min(60,v.speedx):0;v.speedy=0<y?Math.min(60,v.speedy):0;C=C&&60>=D-C;if(0>G||G>y||0>A||A>E){C=!1}A=v.speedx&&C?v.speedx:!1;if(v.speedy&&C&&v.speedy||A){var B=Math.max(16,v.steptime);50<B&&(A=B/50,v.speedx*=A,v.speedy*=A,B=50);v.demulxy=0;v.lastscrollx=v.nc.getScrollLeft();v.chkx=v.lastscrollx;v.lastscrolly=v.nc.getScrollTop();v.chky=v.lastscrolly;var F=v.lastscrollx,H=v.lastscrolly,z=function(){var I=600<v.time()-D?0.04:0.02;if(v.speedx&&(F=Math.floor(v.lastscrollx-v.speedx*(1-v.demulxy)),v.lastscrollx=F,0>F||F>E)){I=0.1}if(v.speedy&&(H=Math.floor(v.lastscrolly-v.speedy*(1-v.demulxy)),v.lastscrolly=H,0>H||H>y)){I=0.1}v.demulxy=Math.min(1,v.demulxy+I);v.nc.synched("domomentum2d",function(){v.speedx&&(v.nc.getScrollLeft()!=v.chkx&&v.stop(),v.chkx=F,v.nc.setScrollLeft(F));v.speedy&&(v.nc.getScrollTop()!=v.chky&&v.stop(),v.chky=H,v.nc.setScrollTop(H));v.timer||(v.nc.hideCursor(),v.doSnapy(F,H))});1>v.demulxy?v.timer=setTimeout(z,B):(v.stop(),v.nc.hideCursor(),v.doSnapy(F,H))};z()}else{v.doSnapy(v.nc.getScrollLeft(),v.nc.getScrollTop())}}},c=g.fn.scrollTop;g.cssHooks.pageYOffset={get:function(v,e,w){return(e=g.data(v,"__nicescroll")||!1)&&e.ishwscroll?e.getScrollTop():c.call(v)},set:function(v,e){var w=g.data(v,"__nicescroll")||!1;w&&w.ishwscroll?w.setScrollTop(parseInt(e)):c.call(v,e);return this}};g.fn.scrollTop=function(v){if("undefined"==typeof v){var e=this[0]?g.data(this[0],"__nicescroll")||!1:!1;return e&&e.ishwscroll?e.getScrollTop():c.call(this)}return this.each(function(){var w=g.data(this,"__nicescroll")||!1;w&&w.ishwscroll?w.setScrollTop(parseInt(v)):c.call(g(this),v)})};var d=g.fn.scrollLeft;g.cssHooks.pageXOffset={get:function(v,e,w){return(e=g.data(v,"__nicescroll")||!1)&&e.ishwscroll?e.getScrollLeft():d.call(v)},set:function(v,e){var w=g.data(v,"__nicescroll")||!1;w&&w.ishwscroll?w.setScrollLeft(parseInt(e)):d.call(v,e);return this}};g.fn.scrollLeft=function(v){if("undefined"==typeof v){var e=this[0]?g.data(this[0],"__nicescroll")||!1:!1;return e&&e.ishwscroll?e.getScrollLeft():d.call(this)}return this.each(function(){var w=g.data(this,"__nicescroll")||!1;w&&w.ishwscroll?w.setScrollLeft(parseInt(v)):d.call(g(this),v)})};var f=function(v){var e=this;this.length=0;this.name="nicescrollarray";this.each=function(y){for(var z=0,A=0;z<e.length;z++){y.call(e[z],A++)}return e};this.push=function(y){e[e.length]=y;e.length++};this.eq=function(y){return e[y]};if(v){for(a=0;a<v.length;a++){var w=g.data(v[a],"__nicescroll")||!1;w&&(this[this.length]=w,this.length++)}}return this};(function(w,v,y){for(var z=0;z<v.length;z++){y(w,v[z])}})(f.prototype,"show hide toggle onResize resize remove stop doScrollPos".split(" "),function(w,v){w[v]=function(){var y=arguments;return this.each(function(){this[v].apply(this,y)})}});g.fn.getNiceScroll=function(e){return"undefined"==typeof e?new f(this):this[e]&&g.data(this[e],"__nicescroll")||!1};g.extend(g.expr[":"],{nicescroll:function(e){return g.data(e,"__nicescroll")?!0:!1}});g.fn.niceScroll=function(v,e){"undefined"==typeof e&&("object"==typeof v&&!("jquery" in v))&&(e=v,v=!1);var w=new f;"undefined"==typeof e&&(e={});v&&(e.doc=g(v),e.win=g(this));var y=!("doc" in e);!y&&!("win" in e)&&(e.win=g(this));this.each(function(){var z=g(this).data("__nicescroll")||!1;z||(e.doc=y?g(this):e.doc,z=new s(e,g(this)),g(this).data("__nicescroll",z));w.push(z)});return 1==w.length?w[0]:w};window.NiceScroll={getjQuery:function(){return g}};g.nicescroll||(g.nicescroll=new f,g.nicescroll.options=l)})(jQuery);